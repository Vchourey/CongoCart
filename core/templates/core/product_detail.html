{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% block content %}

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-warning">
                {{ message }} New User? Then first <a href="{% url 'register' %}" class="alert-link">register</a>.
                Otherwise <a href="{% url 'register' %}" class="alert-link">login</a> and continue.
            </div>
        {% endfor %}
    {% endif %}

    <div class="container dark-grey-text mt-5">

        <div class="row">
            <div class="col-sm-10 col-md-6 mb-4  text-center">
                <img src="{{ product.image.url }}" width="150" height="150px" class="img-fluid" alt="">
            </div>

            <div class="col-md-6 mb-4">
                <div class="p-4">
                    <div class="mb-3">
                        <a href="">
                            <span class="badge badge-info mr-1">{{ product.category }}</span>
                            <span class="badge badge-warning mr-1">{{ product.label }}</span>
                        </a>
                    </div>

                    <p class="lead font-weight-bold">{{ product.title }} | {{ product.description_short }}</p>

                    <p class="lead">
                        <span>&#x20b9; {{ product.price }}</span>
                    </p>

                    <form action="." method="POST">{% csrf_token %}
                        <fieldset class="form-group">
                            {{ form|crispy }}
                        </fieldset>
                        <div class="form-group">
                            <button class="btn btn-light border-dark rounded-pill btn-md my-0" type="submit">Add to
                                cart
                                <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="25" height="25"
                                     viewBox="0 0 172 172" style=" fill:#000000;">
                                    <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1"
                                       stroke-linecap="butt"
                                       stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray=""
                                       stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none"
                                       text-anchor="none" style="mix-blend-mode: normal">
                                        <path d="M0,172v-172h172v172z" fill="none"></path>
                                        <g fill="#2ecc71">
                                            <path
                                                    d="M11.46667,11.46667c-2.06765,-0.02924 -3.99087,1.05709 -5.03322,2.843c-1.04236,1.78592 -1.04236,3.99474 0,5.78066c1.04236,1.78592 2.96558,2.87225 5.03322,2.843h10.7724c1.29517,0 2.37592,0.81106 2.74349,2.06042l24.43385,83.06614c2.14446,7.29116 8.88821,12.34011 16.49453,12.34011h62.73073c7.86218,0 14.77843,-5.39885 16.68489,-13.02317v-0.0112l15.0388,-60.11041c0.42737,-1.71302 0.04175,-3.52742 -1.04536,-4.91857c-1.08711,-1.39115 -2.75448,-2.20392 -4.52001,-2.20331h-113.4125l-5.3974,-18.37578c-0.00373,0 -0.00747,0 -0.0112,0c-1.78818,-6.07784 -7.40968,-10.29089 -13.73984,-10.29089zM97.46667,51.6c3.1648,0 5.73333,2.5628 5.73333,5.73333v17.2h17.2c3.1648,0 5.73333,2.5628 5.73333,5.73333c0,3.17053 -2.56853,5.73333 -5.73333,5.73333h-17.2v17.2c0,3.17053 -2.56853,5.73333 -5.73333,5.73333c-3.1648,0 -5.73333,-2.5628 -5.73333,-5.73333v-17.2h-17.2c-3.1648,0 -5.73333,-2.5628 -5.73333,-5.73333c0,-3.17053 2.56853,-5.73333 5.73333,-5.73333h17.2v-17.2c0,-3.17053 2.56853,-5.73333 5.73333,-5.73333zM68.8,131.86667c-6.33287,0 -11.46667,5.1338 -11.46667,11.46667c0,6.33287 5.1338,11.46667 11.46667,11.46667c6.33287,0 11.46667,-5.1338 11.46667,-11.46667c0,-6.33287 -5.1338,-11.46667 -11.46667,-11.46667zM126.13333,131.86667c-6.33287,0 -11.46667,5.1338 -11.46667,11.46667c0,6.33287 5.1338,11.46667 11.46667,11.46667c6.33287,0 11.46667,-5.1338 11.46667,-11.46667c0,-6.33287 -5.1338,-11.46667 -11.46667,-11.46667z">
                                            </path>
                                        </g>
                                    </g>
                                </svg>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <hr>

        <div class="row d-flex justify-content-center wow fadeIn">
            <div class="col-md-8">
                <h4 class="my-4 h4"><u>Description</u></h4>
                <p>{{ product.description_long }}</p>
            </div>
        </div>

        <div class="row d-flex justify-content-center wow fadeIn">
            <div class="col-md-8">
                <h4 class="my-4 h4"><u>Seller Details</u></h4>
                <table class="table table-striped">
                    <tbody>
                    <tr>
                        <td>Business Name</td>
                        <td>{{ seller.business_name }}
                            {% if seller.is_verified %}
                                <img src="https://img.icons8.com/color/24/000000/verified-account.png"/>
                            {% endif %}
                        </td>
                    </tr>
                    <tr>
                        <td>Contact Person</td>
                        <td>{{ seller.first_name }} {{ seller.last_name }}</td>
                    </tr>
                    <tr>
                        <td>Contact Number</td>
                        <td>{{ seller.congo_user.phone_number }}</td>
                    </tr>
                    <tr>
                        <td>GST Number</td>
                        <td>{{ seller.gst_number }}</td>
                    </tr>
                    </tbody>
                </table>

            </div>
        </div>

        <h2 class="mt-4" style="color: black; font-family: 'Ubuntu', sans-serif; font-size: 27px;">Other products by
            this
            seller </h2>
        <hr>
        <div class="my-4 container">
            <div class="row justify-content-center">
                <div class="card-deck">
                    {% for product in other_products %}
                        <div class="card col-sm-4 col-md-4" style="width: 18rem; border-radius: 2px;">
                            <img class="card-img-top rounded-circle p-3" src="{{ product.image.url }}" height="250"
                                 width="250"
                                 alt="Card image cap">
                            <div class="card-body">
                                <a href="{% url 'product_detail_view' category=category product_id=product.id %}">
                                    <p class="card-text text-center"><strong>{{ product.title }}
                                        | {{ product.description_short }} | <span
                                                class="badge badge-warning">{{ product.label }}</span>
                                    </strong></p>
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <hr>

    <!-- Footer -->
    <footer class="footer text-center">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
                    <ul class="list-inline mb-2">
                        <li class="list-inline-item">
                            <a href="#">About</a>
                        </li>
                        <li class="list-inline-item">&sdot;</li>
                        <li class="list-inline-item">
                            <a href="#team">Team</a>
                        </li>
                        <li class="list-inline-item">&sdot;</li>
                        <li class="list-inline-item">
                            <a href="#">Terms of Use</a>
                        </li>
                        <li class="list-inline-item">&sdot;</li>
                        <li class="list-inline-item">
                            <a href="#">Privacy Policy</a>
                        </li>
                    </ul>
                    <p class="text-muted small mb-4 mb-lg-0"><a href="https://icons8.com">illustration by Ouch.pics
                    </a></p>
                    <p class="text-muted small mb-4 mb-lg-0">&copy; CongoCart 2020. All Rights
                        Reserved.</p>
                </div>
                <!-- Social Media Icons -->
                <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
                    <ul class="list-inline mb-0">
                        <li class="list-inline-item mr-3">
                            <a href="#">
                                <img src="https://img.icons8.com/fluent/48/000000/facebook-new.png"/>
                            </a>
                        </li>
                        <li class="list-inline-item mr-3">
                            <a href="#">
                                <img src="https://img.icons8.com/fluent/48/000000/instagram-new.png"/>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="#">
                                <img src="https://img.icons8.com/fluent/48/000000/twitter.png"/>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

{% endblock content %}